import{I as A,C as I}from"./IconEdit-dfeeb508.js";import{_ as u}from"./_plugin-vue_export-helper-c27b6911.js";import{o as a,c as d,b as L,d as h,l as y,j as n,a as t,f as l,t as s,s as N,w as p,x,y as D,F as m,_ as B,z as j,e as P,v,m as _,n as $}from"./index-78594cd4.js";import{I as V,a as F}from"./IconCalendarEdit-b053d05c.js";import{f as C}from"./DateHelper-40886cde.js";import{I as E}from"./IconDelete-14531500.js";import"./IconCreate-945fb926.js";const U={},z={role:"status",class:"space-y-8 animate-pulse md:space-y-0 md:space-x-8 md:flex md:items-center"},T=L('<div class="w-full"><div class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[480px] mb-2.5"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[440px] mb-2.5"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[460px] mb-2.5"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[360px]"></div></div><span class="sr-only">Loading...</span>',2),R=[T];function q(e,o){return a(),d("div",z,R)}const Z=u(U,[["render",q]]),G=h({components:{IconEdit:A},props:{nameProp:String,descriptionProp:String,idProp:Number},data(){return{showModal:!1,categoryName:"",categoryDescription:""}},methods:{openModal(){this.categoryName=this.nameProp,this.categoryDescription=this.descriptionProp,this.showModal=!0},closeModal(){this.showModal=!1},async submitForm(){const e=new FormData;e.append("Name",this.categoryName),e.append("Description",this.categoryDescription);const o=await y.put("/api/admin/category/"+this.idProp,e);console.log(o.status),o.status==200&&(location.reload(),this.closeModal())}}}),H={key:0,class:"fixed top-0 left-0 right-0 z-50 w-full h-screen flex items-center justify-center bg-black bg-opacity-50"},J={class:"relative w-full max-w-md max-h-full"},K={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},O=t("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Q=t("span",{class:"sr-only"},"Close modal",-1),W=[O,Q],X={class:"px-6 py-6 lg:px-8"},Y={class:"mb-4 text-xl font-medium text-gray-900 dark:text-white"},ee={for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},te={for:"description",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},oe={class:"m-5"};function re(e,o,g,f,b,w){const c=n("IconEdit");return a(),d(m,null,[t("button",{onClick:o[0]||(o[0]=(...r)=>e.openModal&&e.openModal(...r)),class:"mt-5 text-white bg-yellow-400 hover:bg-yellow-500 focus:ring-4 focus:outline-none focus:ring-yellow-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center mr-2 dark:bg-yellow-400 dark:hover:bg-yellow-500 dark:focus:ring-yellow-600"},[l(c)]),e.showModal?(a(),d("div",H,[t("div",J,[t("div",K,[t("button",{onClick:o[1]||(o[1]=(...r)=>e.closeModal&&e.closeModal(...r)),class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"edit-modal"},W),t("div",X,[t("h3",Y,s(e.$t("categories")),1),t("form",{onSubmit:o[5]||(o[5]=N((...r)=>e.submitForm&&e.submitForm(...r),["prevent"])),class:"space-y-6",action:"#"},[t("div",null,[t("label",ee,s(e.$t("fName")),1),p(t("input",{"onUpdate:modelValue":o[2]||(o[2]=r=>e.categoryName=r),type:"text",name:"name",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",required:""},null,512),[[x,e.categoryName]])]),t("div",null,[t("label",te,s(e.$t("description")),1),p(t("textarea",{"onUpdate:modelValue":o[3]||(o[3]=r=>e.categoryDescription=r),name:"description",id:"description",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",required:""},`\r
                            `,512),[[x,e.categoryDescription]])]),t("div",oe,[t("button",{onClick:o[4]||(o[4]=(...r)=>e.submitForm&&e.submitForm(...r)),type:"submit",class:"w-full text-white bg-yellow-500 hover:bg-yellow-600 focus:ring-4 focus:outline-none focus:ring-yellow-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-yellow-500 dark:hover:bg-yellow-600 dark:focus:ring-yellow -800"},s(e.$t("edit")),1)])],32)])])])])):D("",!0)],64)}const se=u(G,[["render",re]]),ae=h({components:{IconDelete:E},props:{idCategory:Number},data(){return{showDeleteModal:!1}},methods:{openDeleteModal(){this.showDeleteModal=!0},closeDeleteModal(){this.showDeleteModal=!1},async confirmDelete(){await y.delete("/api/admin/category/"+this.idCategory),console.log("Deleting the category..."),this.closeDeleteModal(),location.reload()}}}),ne={key:0,class:"fixed top-0 left-0 right-0 z-50 w-full h-screen flex items-center justify-center bg-black bg-opacity-50"},de={class:"relative w-full max-w-md max-h-full"},ie={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},le=t("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),ce=t("span",{class:"sr-only"},"Close modal",-1),ge=[le,ce],me={class:"p-6 text-center"},ue=t("svg",{class:"mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1),pe={class:"mb-5 text-lg font-normal text-gray-500 dark:text-gray-400"};function he(e,o,g,f,b,w){const c=n("IconDelete");return a(),d(m,null,[t("button",{onClick:o[0]||(o[0]=(...r)=>e.openDeleteModal&&e.openDeleteModal(...r))},[l(c)]),e.showDeleteModal?(a(),d("div",ne,[t("div",de,[t("div",ie,[t("button",{onClick:o[1]||(o[1]=(...r)=>e.closeDeleteModal&&e.closeDeleteModal(...r)),class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"popup-modal"},ge),t("div",me,[ue,t("h3",pe,s(e.$t("deleteMessage")),1),t("button",{onClick:o[2]||(o[2]=(...r)=>e.closeDeleteModal&&e.closeDeleteModal(...r)),type:"button",class:"text-gray-500 mr-6 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"},"No, "+s(e.$t("noBtn")),1),t("button",{onClick:o[3]||(o[3]=(...r)=>e.confirmDelete&&e.confirmDelete(...r)),type:"button",class:"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 focus:outline-none dark:focus:ring-red-800"},s(e.$t("yesBtn")),1)])])])])):D("",!0)],64)}const ye=u(ae,[["render",he]]),fe=h({components:{CategoryEditComponent:se,FlowbiteSetup:B,CategoryDeleteComponents:ye,IconCalendar:V,IconCalendarEdit:F},props:{id:Number,name:String,description:String,createdAt:Date,updatedAt:Date},data(){return{baseURL:"",createdAtString:"",updatedAtString:"",localId:0}},methods:{load(){this.baseURL=y.defaults.baseURL,this.createdAtString=C(this.createdAt),this.updatedAtString=C(this.updatedAt)},pushToSkills(){j.push({name:"skillsDetail",params:{id:this.id}})}},mounted(){this.load()}}),be={class:"card flex border mb-3 border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"},we={class:"flex-auto p-3"},ke={class:"text-2xl font-bold tracking-tight text-gray-900 dark:text-white"},xe={class:"font-normal text-gray-700 dark:text-gray-400"},ve={class:"w-44"},_e={class:"w-full"},$e=t("svg",{class:"w-4 h-4 ml-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})],-1),Ce={class:"flex flex-wrap items-center mt-2 mb-2"},De={class:"me-5 mx-1 font-normal bold text-gray-700 dark:text-gray-400"},Me={class:"mx-1 font-normal bold text-gray-700 dark:text-gray-400"},Se={class:"flex-none w-16"},Ae={type:"button",class:"mt-5 text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center mr-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800"};function Ie(e,o,g,f,b,w){const c=n("IconCalendar"),r=n("IconCalendarEdit"),k=n("CategoryEditComponent"),i=n("CategoryDeleteComponents"),M=n("FlowbiteSetup");return a(),d(m,null,[t("div",be,[t("div",we,[t("h5",ke,s(e.name),1),t("p",xe,s(e.description),1),t("div",ve,[t("button",{onClick:o[0]||(o[0]=(...S)=>e.pushToSkills&&e.pushToSkills(...S)),class:"inline-flex text-gray-700 w-full items-center justify-center mt-1 text-l font-medium rounded hover:text-gray-900 bg-gray-100 dark:text-gray-200 dark:bg-gray-600 px-3 dark:hover:bg-gray-700 dark:hover:text-white"},[t("span",_e,s(e.$t("skills")),1),$e])]),t("div",Ce,[l(c),t("p",De,s(e.createdAtString),1),l(r),t("p",Me,s(e.updatedAtString),1)])]),t("div",Se,[l(k,{nameProp:e.name,descriptionProp:e.description,idProp:e.id},null,8,["nameProp","descriptionProp","idProp"]),t("button",Ae,[l(i,{"id-category":e.id},null,8,["id-category"])])])]),l(M)],64)}const Le=u(fe,[["render",Ie]]);function Ne(e){const g=`; ${document.cookie}`.split(`;${e}=`);if(g.length===2)return g.pop().split(";").shift()}const Be=h({components:{CategoryViewComponent:Le,CategorySkeletonComponent:Z,CategoryCreateModalComponent:I},methods:{async getDataAsync(){this.isLoaded=!1,Ne("access_token");var e=await y.get("/api/common/category");this.isLoaded=!0,console.log(e.data),this.categoriesList=e.data}},data(){return{categoriesList:[],defaultSkeletons:4,isLoaded:!1}},setup(){P()},async mounted(){await this.getDataAsync()}}),je={class:"flex justify-between mb-5","aria-label":"Breadcrumb"},Pe={class:"inline-flex items-center space-x-1 md:space-x-3"},Ve=t("li",{class:"inline-flex items-center"},[t("a",{href:"#",class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white"},[t("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})])])],-1),Fe={class:"flex items-center"},Ee=t("svg",{class:"w-3 h-3 text-gray-400 mx-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 9 4-4-4-4"})],-1),Ue={class:"ml-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ml-2 dark:text-gray-400 dark:hover:text-white"};function ze(e,o,g,f,b,w){const c=n("CategoryCreateModalComponent"),r=n("CategorySkeletonComponent"),k=n("CategoryViewComponent");return a(),d(m,null,[t("nav",je,[t("ol",Pe,[Ve,t("li",null,[t("div",Fe,[Ee,t("a",Ue,s(e.$t("categories")),1)])])]),l(c)]),p(t("ul",null,[(a(!0),d(m,null,_(e.defaultSkeletons,i=>(a(),$(r,{class:"mt-2 mb-3"}))),256))],512),[[v,e.isLoaded==!1]]),p(t("ul",null,[(a(!0),d(m,null,_(e.categoriesList,i=>(a(),$(k,{name:i.name,description:i.description,createdAt:i.createdAt,updatedAt:i.updatedAt,id:i.id,class:"mt-2 mb-3"},null,8,["name","description","createdAt","updatedAt","id"]))),256))],512),[[v,e.isLoaded==!0]])],64)}const Ke=u(Be,[["render",ze]]);export{Ke as default};
